\hypertarget{capturer_8h_source}{}\doxysection{capturer.\+h}
\label{capturer_8h_source}\index{include/libcapture/capturer.h@{include/libcapture/capturer.h}}
\mbox{\hyperlink{capturer_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00001}00001 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00003}00003 \textcolor{preprocessor}{\#include <array>}}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00004}00004 \textcolor{preprocessor}{\#include <condition\_variable>}}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00005}00005 \textcolor{preprocessor}{\#include <future>}}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00006}00006 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00007}00007 \textcolor{preprocessor}{\#include <mutex>}}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00008}00008 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00009}00009 \textcolor{preprocessor}{\#include <thread>}}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00011}00011 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{video__parameters_8h}{video\_parameters.h}}"{}}}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00012}00012 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00013}00013 \textcolor{keyword}{class }\mbox{\hyperlink{classDemuxer}{Demuxer}};}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00014}00014 \textcolor{keyword}{class }\mbox{\hyperlink{classMuxer}{Muxer}};}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00015}00015 \textcolor{keyword}{class }\mbox{\hyperlink{classPipeline}{Pipeline}};}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00017}\mbox{\hyperlink{classCapturer}{00017}} \textcolor{keyword}{class }\mbox{\hyperlink{classCapturer}{Capturer}} \{}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00018}00018     \textcolor{comment}{/* Whether the recorder should be verbose or not */}}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00019}00019     \textcolor{keywordtype}{bool} verbose\_;}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00021}00021     \textcolor{comment}{/* Synchronization variables */}}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00023}00023     \textcolor{keywordtype}{bool} stopped\_ = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00024}00024     \textcolor{keywordtype}{bool} paused\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00025}00025     std::mutex m\_;}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00026}00026     std::condition\_variable cv\_;}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00027}00027     std::thread capturer\_;}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00028}00028 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00029}00029     \textcolor{comment}{/* The pipeline used for audio/video processing */}}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00030}00030     std::unique\_ptr<Pipeline> pipeline\_;}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00032}00032     \textcolor{comment}{/* The muxer managing the output file */}}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00033}00033     std::shared\_ptr<Muxer> muxer\_;}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00034}00034 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00039}00039     \textcolor{keywordtype}{void} capture(\mbox{\hyperlink{classDemuxer}{Demuxer}} \&demuxer);}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00046}00046     \textcolor{keywordtype}{void} capture(\mbox{\hyperlink{classDemuxer}{Demuxer}} \&video\_demuxer, \mbox{\hyperlink{classDemuxer}{Demuxer}} \&audio\_demuxer);}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00047}00047 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00052}00052     \textcolor{keywordtype}{bool} stopCapture();}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00053}00053 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00054}00054 \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00059}00059     \textcolor{keyword}{explicit} \mbox{\hyperlink{classCapturer_a3426c95b3e3b23fa8e0afcad763c0839}{Capturer}}(\textcolor{keywordtype}{bool} verbose = \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00061}\mbox{\hyperlink{classCapturer_a221e4b7b73ed55b7cea7fa3e0476e847}{00061}}     \mbox{\hyperlink{classCapturer_a221e4b7b73ed55b7cea7fa3e0476e847}{Capturer}}(\textcolor{keyword}{const} \mbox{\hyperlink{classCapturer}{Capturer}} \&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00062}00062 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00063}00063     \mbox{\hyperlink{classCapturer_ad425e168d79bcf6ea3c1b85fc7f472bb}{\string~Capturer}}();}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00064}00064 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00065}\mbox{\hyperlink{classCapturer_a5940ee9072f93e9fa6e3c80b6f42bde1}{00065}}     \mbox{\hyperlink{classCapturer}{Capturer}} \&\mbox{\hyperlink{classCapturer_a5940ee9072f93e9fa6e3c80b6f42bde1}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classCapturer}{Capturer}} \&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00066}00066 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00082}00082     std::future<void> \mbox{\hyperlink{classCapturer_a603d8210404b68dd782a7d2f89bae552}{start}}(\textcolor{keyword}{const} std::string \&video\_device, \textcolor{keyword}{const} std::string \&audio\_device,}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00083}00083                             \textcolor{keyword}{const} std::string \&output\_file, \mbox{\hyperlink{classVideoParameters}{VideoParameters}} video\_params);}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00084}00084 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00090}00090     \textcolor{keywordtype}{void} \mbox{\hyperlink{classCapturer_a3690f81aa60bc388f73f8e92c05d9d08}{stop}}();}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00091}00091 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00095}00095     \textcolor{keywordtype}{void} \mbox{\hyperlink{classCapturer_ae01ca2c78faa1e7c4fdf5b1c36562ff0}{pause}}();}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00096}00096 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00100}00100     \textcolor{keywordtype}{void} \mbox{\hyperlink{classCapturer_addc2bab7c74562e447ce8a8f1fe16013}{resume}}();}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00101}00101 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00106}00106     \textcolor{keywordtype}{void} \mbox{\hyperlink{classCapturer_a1fcc9b714f0ca9273ab8af371b0d1b8a}{setVerbose}}(\textcolor{keywordtype}{bool} verbose);}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00107}00107 }
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00111}00111     \textcolor{keywordtype}{void} \mbox{\hyperlink{classCapturer_a450ca730b6f94989accb0e615951437a}{listAvailableDevices}}() \textcolor{keyword}{const};}
\DoxyCodeLine{\Hypertarget{capturer_8h_source_l00112}00112 \};}

\end{DoxyCode}
